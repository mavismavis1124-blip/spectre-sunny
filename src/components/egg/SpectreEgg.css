/* ============================================================
   SpectreEgg — Premium animated egg with neural network interior
   ============================================================ */

.spectre-egg {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.4s ease;
  will-change: transform;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.spectre-egg:hover {
  transform: scale(1.06);
}
.spectre-egg:active {
  transform: scale(0.97);
}

/* ─── Egg SVG ─── */
.spectre-egg__svg {
  display: block;
  overflow: visible;
}

/* ─── Shell breathing animation ─── */
.spectre-egg__shell {
  animation: eggBreathe 4s ease-in-out infinite;
}
@keyframes eggBreathe {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.92; }
}

/* ─── Inner glow pulse ─── */
.spectre-egg__inner-glow {
  animation: eggInnerPulse 3s ease-in-out infinite;
}
@keyframes eggInnerPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* ─── Outer glow ─── */
.spectre-egg__outer-glow {
  animation: eggOuterPulse 4.5s ease-in-out infinite;
}
@keyframes eggOuterPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* ─── Neural node flickering ─── */
.spectre-egg__node {
  animation: nodeFlicker 2.5s ease-in-out infinite;
}
.spectre-egg__node-glow {
  animation: nodeGlowPulse 3s ease-in-out infinite;
}
/* Stagger individual nodes */
.spectre-egg__node--0, .spectre-egg__node-glow--0 { animation-delay: 0s; }
.spectre-egg__node--1, .spectre-egg__node-glow--1 { animation-delay: 0.3s; }
.spectre-egg__node--2, .spectre-egg__node-glow--2 { animation-delay: 0.6s; }
.spectre-egg__node--3, .spectre-egg__node-glow--3 { animation-delay: 0.9s; }
.spectre-egg__node--4, .spectre-egg__node-glow--4 { animation-delay: 1.2s; }
.spectre-egg__node--5, .spectre-egg__node-glow--5 { animation-delay: 0.15s; }
.spectre-egg__node--6, .spectre-egg__node-glow--6 { animation-delay: 0.45s; }
.spectre-egg__node--7, .spectre-egg__node-glow--7 { animation-delay: 0.75s; }
.spectre-egg__node--8, .spectre-egg__node-glow--8 { animation-delay: 1.05s; }
.spectre-egg__node--9, .spectre-egg__node-glow--9 { animation-delay: 0.2s; }
.spectre-egg__node--10, .spectre-egg__node-glow--10 { animation-delay: 0.5s; }
.spectre-egg__node--11, .spectre-egg__node-glow--11 { animation-delay: 0.8s; }
.spectre-egg__node--12, .spectre-egg__node-glow--12 { animation-delay: 1.1s; }

@keyframes nodeFlicker {
  0%, 100% { opacity: 1; }
  30% { opacity: 0.4; }
  60% { opacity: 0.9; }
  80% { opacity: 0.5; }
}
@keyframes nodeGlowPulse {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.6; }
}

/* ─── Connection line pulse ─── */
.spectre-egg__connection {
  animation: connectionPulse 3s ease-in-out infinite;
}
.spectre-egg__connection--0 { animation-delay: 0s; }
.spectre-egg__connection--2 { animation-delay: 0.2s; }
.spectre-egg__connection--4 { animation-delay: 0.4s; }
.spectre-egg__connection--6 { animation-delay: 0.6s; }
.spectre-egg__connection--8 { animation-delay: 0.8s; }
.spectre-egg__connection--10 { animation-delay: 1.0s; }
.spectre-egg__connection--12 { animation-delay: 1.2s; }
.spectre-egg__connection--14 { animation-delay: 0.3s; }
.spectre-egg__connection--16 { animation-delay: 0.5s; }
.spectre-egg__connection--18 { animation-delay: 0.7s; }
@keyframes connectionPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

/* ─── DORMANT state: still, faint ─── */
.spectre-egg--dormant {
  animation: eggDormantFloat 6s ease-in-out infinite;
}
@keyframes eggDormantFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-3px); }
}

/* ─── CRACKING state: gentle wobble ─── */
.spectre-egg--cracking {
  animation: eggCrackingWobble 3s ease-in-out infinite;
}
@keyframes eggCrackingWobble {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-2px) rotate(0.5deg); }
  50% { transform: translateY(-4px) rotate(0deg); }
  75% { transform: translateY(-2px) rotate(-0.5deg); }
}

/* Crack line drawing animation */
.spectre-egg__crack {
  stroke-dasharray: 80;
  stroke-dashoffset: 80;
  animation: crackDraw 1.5s ease-out forwards;
}
.spectre-egg__crack--0 { animation-delay: 0s; }
.spectre-egg__crack--1 { animation-delay: 0.3s; }
.spectre-egg__crack--2 { animation-delay: 0.6s; }
.spectre-egg__crack--3 { animation-delay: 0.9s; }
@keyframes crackDraw {
  to { stroke-dashoffset: 0; }
}

.spectre-egg__crack-glow {
  stroke-dasharray: 80;
  stroke-dashoffset: 80;
  animation: crackDraw 1.5s ease-out forwards;
}
.spectre-egg__crack-glow--0 { animation-delay: 0s; }
.spectre-egg__crack-glow--1 { animation-delay: 0.3s; }
.spectre-egg__crack-glow--2 { animation-delay: 0.6s; }
.spectre-egg__crack-glow--3 { animation-delay: 0.9s; }

/* ─── HATCHING state: intense wobble, light through cracks ─── */
.spectre-egg--hatching {
  animation: eggHatchingWobble 0.8s ease-in-out infinite;
}
@keyframes eggHatchingWobble {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  10% { transform: translateY(-1px) rotate(1.5deg); }
  20% { transform: translateY(1px) rotate(-1.2deg); }
  30% { transform: translateY(-2px) rotate(0.8deg); }
  40% { transform: translateY(0) rotate(-1deg); }
  50% { transform: translateY(-3px) rotate(1.2deg); }
  60% { transform: translateY(1px) rotate(-0.5deg); }
  70% { transform: translateY(-1px) rotate(0.8deg); }
  80% { transform: translateY(0) rotate(-1.5deg); }
  90% { transform: translateY(-2px) rotate(0.5deg); }
}

/* ─── Highlight shimmer ─── */
.spectre-egg__highlight {
  animation: highlightShimmer 5s ease-in-out infinite;
}
@keyframes highlightShimmer {
  0%, 100% { opacity: 0.02; }
  50% { opacity: 0.05; }
}

/* ─── BORN state (hatch animation) ─── */
.spectre-egg--born {
  animation: eggHatchBurst 2s ease-out forwards;
}
@keyframes eggHatchBurst {
  0% { transform: scale(1); opacity: 1; filter: brightness(1); }
  30% { transform: scale(1.1); opacity: 1; filter: brightness(2); }
  70% { transform: scale(1.3); opacity: 0.5; filter: brightness(3); }
  100% { transform: scale(1.5); opacity: 0; filter: brightness(5); }
}

/* ─── Mini egg (user panel) ─── */
.spectre-egg--mini {
  cursor: default;
}
.spectre-egg--mini:hover {
  transform: scale(1.02);
}

/* ─── Hover glow intensify ─── */
.spectre-egg:hover .spectre-egg__outer-glow {
  opacity: 1 !important;
}
.spectre-egg:hover .spectre-egg__inner-glow {
  opacity: 1 !important;
}
.spectre-egg:hover .spectre-egg__node {
  opacity: 1 !important;
}

/* ─── Mobile adjustments ─── */
@media (max-width: 768px) {
  .spectre-egg:hover {
    transform: scale(1.03);
  }
}
